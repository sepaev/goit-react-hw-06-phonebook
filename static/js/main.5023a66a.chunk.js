(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={inputNumber:"Form_inputNumber__2mVdf"}},31:function(t,e,n){"use strict";n.r(e);var r,a,o,c,i,s=n(0),u=n(7),l=n.n(u),d=n(6),f=n(2),p=n(3),b=p.a.form(r||(r=Object(f.a)(["\n  display: block;\n  border: solid 1px black;\n  padding: 10px;\n"]))),m=p.a.label(a||(a=Object(f.a)(["\n  display: block;\n  font-size: 26px;\n  margin-bottom: 20px;\n  font-weight: 600;\n"]))),h=p.a.button(o||(o=Object(f.a)(["\n  display: block;\n  font-size: 22px;\n"]))),j=n(12),g=n.n(j),x={ADD:"contacts/create",DELETE:"contacts/delete",CHANGE_FILTER:"filter/changeFilter",ADD_NEW_CONTACT:"newContact/create",REMOVE_NEW_CONTACT:"newContact/clear",CHECK_NEW_CONTACT:"newContact/check"},O=n(13),C=n.n(O),N=n(1);var v,w=Object(d.b)(null,(function(t){return{onSubmit:function(e){return t(function(t){t.preventDefault(),c=t.target.children[0].children[1],i=t.target.children[1].children[1];var e=c.value.trim(),n=i.value;return c.value="",{type:x.ADD_NEW_CONTACT,payload:{newName:e,newNumber:n}}}(e))}}}))((function(t){var e=t.onSubmit;return Object(N.jsxs)(b,{onSubmit:e,children:[Object(N.jsxs)(m,{children:[Object(N.jsx)("span",{children:"Name"}),Object(N.jsx)(g.a,{className:C.a.inputNumber,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"Arnold Schwarzenegger",maxLength:"25",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},"nameKey")]}),Object(N.jsxs)(m,{children:[Object(N.jsx)("span",{children:"Number"}),Object(N.jsx)(g.a,{className:C.a.inputNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"+38 (099) 999-99-99",mask:"+38 (099) 999-99-99",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0},"numberKey")]}),Object(N.jsx)(h,{type:"submit",children:"Add contact"})]})})),y=p.a.h2(v||(v=Object(f.a)(["\n  font-weight: 400;\n  color: teal;\n"])));var E=function(t){var e=t.message;return Object(N.jsx)("div",{children:Object(N.jsx)(y,{children:e})})},A=function(t){return{type:x.CHANGE_FILTER,payload:t.target.value.trim().toLowerCase()}},T=n(33),_=n(5),D=function(t){var e=t.newName,n=t.newNumber;return{type:x.ADD,payload:{id:Object(T.a)(),name:e,number:n}}},k=function(t,e){if(t){var n=e.find((function(e){return e.id===t}));if(n)return _.Notify.info("Contact ".concat(n.name," was removed successfully")),{type:x.DELETE,payload:t};_.Notify.failure("Oh, no! Nothing was deleted.")}};var S=function(t){return t?t.split(" ").join("").split("(").join("").split(")").join("").split("-").join("").split("+").join(""):t};function F(t){return t?t.split(" ").join("").toLowerCase().trim():t}var L=function(t,e){var n=function(t,e){var n=t.newName,r=t.newNumber;return n&&r&&e?function(t,e){var n=S(t),r=!1;""===t&&(r=!0);return e.forEach((function(t){var e=t.number;n===S(e)&&(r=!0)})),r}(r,e)?{result:!1,message:"Can't do this operation. Number ".concat(r," already exists.")}:function(t,e){var n=!1,r=F(t);""===r&&(n=!0);return e.forEach((function(t){var e=t.name;r===F(e)&&(n=!0)})),n}(n,e)?{result:!1,message:"Can't do this operation. Name ".concat(n," already exists.")}:{result:!0,message:"Well Done! Added "+n}:{result:!1,message:""}}(t,e);return n.result?(_.Notify.success(n.message),!0):(n.message&&_.Notify.failure(n.message),!1)};var z,W,I,R,J,H=function(t,e){if(!t||!t.length)return[];if(!e)return t;var n=function(t,e){var n=function(t){var e="",n="";if(t)if(t.match(/\d+/)){n=t.match(/\d+/).toString();var r=t.split(n),a=r[0]||r[1];e=a||""}else e=t;return{filterQueryText:e,filterQueryNumber:n}}(e.toString()),r=n.filterQueryText,a=n.filterQueryNumber;if(r.length>0||a.length>0){var o=[];if(a.length>0){if(o=t.filter((function(t){var e=t.number;return S(e).includes(a)})),r.length>0){var c=t.filter((function(t){return t.name.toLowerCase().includes(r)}));return o.length>0?o.concat(c):c}return o}return o=t.filter((function(t){return t.name.toLowerCase().includes(r)}))}return t}(t,e),r=function(t){var e=[],n=[];return t.forEach((function(t){e.indexOf(t.id)<0&&(e.push(t.id),n.push(t))})),n}(n);return r},K=p.a.ul(z||(z=Object(f.a)(["\n  display: block;\n  padding-left: 10px;\n"]))),M=p.a.input(W||(W=Object(f.a)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 22px;\n  outline: unset;\n  &:focus,\n  &:hover {\n    filter: drop-shadow(0px 0px 5px lightblue);\n    border: 1px solid lightblue;\n  }\n"]))),Q=p.a.li(I||(I=Object(f.a)(["\n  display: block;\n  font-family: monospace;\n  list-style-type: disc;\n  font-size: 18px;\n  margin-bottom: 2px;\n"]))),V=p.a.span(R||(R=Object(f.a)(["\n  position: fixed;\n  right: 45px;\n  display: inline-flex;\n"]))),B=p.a.button(J||(J=Object(f.a)(["\n  margin-left: 5px;\n  padding: 2px;\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n"])));var G,P,Z=Object(d.b)((function(t){return{contacts:t.contacts,message:t.contacts.length?"Sorrry, no contacts found.":"Sorrry, you have no contacts yet.",newContact:t.newContact,filter:t.filter}}),(function(t){return{searchFunc:function(e){return t(A(e))},deleteContact:function(e,n){return t(k(e,n))},addContact:function(e){return t(D(e))},clearNewContact:function(){return t((c&&(c.value=""),i&&(i.value=""),{type:x.REMOVE_NEW_CONTACT,payload:{newName:"",newNumber:""}}))}}}))((function(t){var e=t.contacts,n=t.searchFunc,r=t.deleteContact,a=t.message,o=t.newContact,c=t.addContact,i=t.clearNewContact,u=t.filter,l=H(e,u);return""!==o.name&&L(o,e)&&(c(o),i()),Object(N.jsxs)(s.Fragment,{children:[Object(N.jsxs)(K,{children:[Object(N.jsx)(M,{type:"text",name:"search",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"Search contact",onInput:n}),l.length>0&&l.map((function(t){var n=t.id,a=t.name,o=t.number;return Object(N.jsxs)(Q,{children:["\u2022 "+a+": ",Object(N.jsxs)(V,{children:[o,Object(N.jsx)(B,{id:n,onClick:function(){return r(n,e)},children:"X"})]})]},n)}))]}),!l.length&&Object(N.jsx)(E,{message:a})]})})),q=p.a.section(G||(G=Object(f.a)(["\n  text-align: left;\n  max-width: 500px;\n  width: 100%;\n  margin: auto;\n  border: solid 1px black;\n  background-color: white;\n  filter: drop-shadow(2px 4px 6px black);\n  padding: 25px;\n  border-radius: 10px;\n  margin: 50px auto;\n"]))),X=p.a.h1(P||(P=Object(f.a)(["\n  font-size: 28px;\n  margin: 0 0 20px;\n  font-weight: 700;\n"])));_.Notify.init({position:"center-top"});var $=function(t){var e=t.title,n=t.component;return t.doAddContact,Object(N.jsxs)(q,{children:[Object(N.jsx)(X,{children:e}),"Form"===n&&Object(N.jsx)(w,{}),"Contacts"===n&&Object(N.jsx)(Z,{})]})};_.Notify.init({position:"center-top"});var U=Object(d.b)((function(t){return{contacts:t.contacts,filter:t.filter,newName:t.newContact.newName,newNumber:t.newContact.newNumber}}),(function(t){return{doAddContact:function(e,n){return t(D(e))},doDeleteContact:function(){return t(k)},makeSearch:function(){return t(A)}}}))((function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)($,{title:"Phonebook",component:"Form"}),Object(N.jsx)("hr",{}),Object(N.jsx)($,{title:"Contacts",component:"Contacts"})]})})),Y=n(9),tt=n(15),et=n(16),nt=JSON.parse(window.localStorage.getItem("contacts")),rt=Object(Y.combineReducers)({contacts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt||[],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload,a=[];switch(n){case x.ADD:return a=[].concat(Object(et.a)(t),[r]),window.localStorage.setItem("contacts",JSON.stringify(a)),a;case x.DELETE:return a=t.filter((function(t){return t.id!==r})),window.localStorage.setItem("contacts",JSON.stringify(a)),a;default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;return n===x.CHANGE_FILTER?r:t},newContact:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newName:"",newNumber:""},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case x.ADD_NEW_CONTACT:case x.REMOVE_NEW_CONTACT:case x.CHECK_NEW_CONTACT:return r;default:return t}}}),at=Object(Y.createStore)(rt,Object(tt.composeWithDevTools)()),ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),o(t),c(t)}))};l.a.render(Object(N.jsx)(d.a,{store:at,children:Object(N.jsx)(U,{})}),document.getElementById("root")),ot()}},[[31,1,2]]]);
//# sourceMappingURL=main.5023a66a.chunk.js.map